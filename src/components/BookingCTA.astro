---
const bookingUrl = import.meta.env.PUBLIC_BOOKING_URL;
const bookingLabel = import.meta.env.PUBLIC_BOOKING_LABEL || 'Book a free 15-minute call';

interface Props {
  className?: string;
  variant?: 'primary' | 'secondary';
}

const { className = '', variant = 'secondary' } = Astro.props;

const baseStyles = "inline-flex flex-col items-center gap-1";
const buttonStyles = variant === 'primary' 
  ? "bg-accent hover:brightness-110 text-bg font-bold py-4 px-8 rounded-lg shadow-[0_0_15px_rgba(166,255,0,0.3)] transition-all transform hover:scale-105"
  : "bg-transparent hover:bg-white/5 text-accent font-bold py-4 px-8 rounded-lg border-2 border-accent/20 transition-all transform hover:scale-105";
---

<div class={baseStyles + " " + className}>
  {bookingUrl ? (
    <>
      <a 
        href={bookingUrl} 
        target="_blank" 
        rel="noopener noreferrer" 
        class={buttonStyles + " plausible-event-name=Booking+Click"}
        aria-label={`${bookingLabel} (opens in a new tab)`}
      >
        {bookingLabel}
      </a>
      <span class="text-[11px] text-muted uppercase tracking-[0.2em] font-mono mt-2">Remote + On-site Protocol</span>
    </>
  ) : (
    <p class="text-muted text-xs uppercase tracking-widest font-mono italic">Booking Intake Offline</p>
  )}
</div>
